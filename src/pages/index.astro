---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero';
import ETLAnimation from '../components/ETLAnimation';
import DataProcessingBlocks from '../components/DataProcessingBlocks';
import Features from '../components/Features';
import BlogPreview from '../components/BlogPreview';

const posts = await getCollection('blog');
const sortedPosts = posts.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout title="AdaptiveParse - End To Business Automation">
  <Hero client:load />
  <ETLAnimation client:load />
  <DataProcessingBlocks client:load />
  <Features client:load />
  <BlogPreview client:load posts={sortedPosts} />
</Layout>